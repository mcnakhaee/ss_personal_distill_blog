---
title: "Upgrading Distill Blog Settings"
description: |
  The second part of a series on how I upgraded this `Distill` themed blog
categories:
  - distill
date: 07-31-2019
author:
  - name: Shamindra Shrotriya
    url: https://www.shamindras.com/
slug: shrotriya2019distillpt2
preview: images/step_01_disqus_01.png
output:
  distill::distill_article:
    self_contained: false
    toc: true
    toc_depth: 2
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
IMAGES_PATH <- here::here("_posts",
                          "2019-07-31-shrotriya2019distillpt2",
                          "images")
```

## Step 0: Introduction

This is a meta blogpost and a second-part in a series to describe how I setup
this personal academic blogusing the amazing
[distill](https://rstudio.github.io/distill/){target="_blank"} package by the
[RStudio](h//www.rstudio.com/){target="_blank"} team.

The first part of this meta blogpost series can be [found
here](https://www.shamindras.com/posts/2019-07-11-setting-up-a-distill-blog-with-netlify/){target="_blank"}.
If you haven't setup a `distill` themed blog then you are encouraged to check
it out.

## Step 1: Setup Disqus comments

We should setup some method of comments for our blog. I will go with the
recommended [Disqus comments option](https://disqus.com){target="_blank"} from
the [distill
blog](https://rstudio.github.io/distill/blog.html#comments-and-sharing){target="_blank"}.
I simply created a [Disqus](https://disqus.com){target="_blank"} account and
selected **Get Started**. I then clicked the following option to *Install
Disqus on my site*.

<center>
```{r step-01-01-screenshot, fig.cap="Getting Started with Disqus", echo=FALSE, out.extra="class=external", cache=TRUE, eval=FALSE}
knitr::include_graphics(path =
                            fs::path(IMAGES_PATH,
                                     "step_01_disqus_01.png"))
```
</center>

<center>
```{r step-01-02-screenshot, fig.cap="Getting Started with Disqus", echo=FALSE, out.extra="class=external", cache=TRUE}
knitr::include_graphics(path =
                            fs::path(IMAGES_PATH,
                                     "step_01_disqus_02.png"))
```
</center>

I was then presented with the following options menu. I entered
`https:://www.shamindras.com/` for the website name and manually set my
**Disqus shortname** to be `shamindras-distill`. This shortname is important to
note down as we'll see shortly.

<center>
```{r step-01-03-screenshot, fig.cap="Setup Disqus shortname", echo=FALSE, out.extra="class=external", cache=TRUE}
knitr::include_graphics(path =
                            fs::path(IMAGES_PATH,
                                     "step_01_disqus_03.png"))
```
</center>


After clicking **Create Site** in the previous menu I proceeded to select the
_free_ plan option by subscribing to the *Basic, Free, Ads Supported* comments
option as seen below:

<center>
```{r step-01-04-screenshot, fig.cap="Select Basic (Free, Ads supported) mode", echo=FALSE, out.extra="class=external", cache=TRUE}
knitr::include_graphics(path =
                            fs::path(IMAGES_PATH,
                                     "step_01_disqus_04.png"))
```
</center>

In terms of implementing `Disqus` on my site, I clicked on the following option
to install it manually, since `distill` makes this easy:

<center>
```{r step-01-05-screenshot, fig.cap="Manual installation of Disqus", echo=FALSE, out.extra="class=external", cache=TRUE}
knitr::include_graphics(path =
                            fs::path(IMAGES_PATH,
                                     "step_01_disqus_05.png"))
```
</center>

Finally for configuring `Disqus` I ensured that I set the following options. I
particularly like setting an opiononated comments policy and selected the
[Grist Comment
Policy](https://grist.org/grist-comment-policy/){target="_blank"}

<center>
```{r step-01-06-screenshot, fig.cap="Disqus Configuration Settings", echo=FALSE, out.extra="class=external", cache=TRUE}
knitr::include_graphics(path =
                            fs::path(IMAGES_PATH,
                                     "step_01_disqus_06.png"))
```
</center>

Finally to ensure that the implementation is completed I added the following
line to the `_site.yml` post using the **Disqus shortname** set earlier i.e.
`shamindras-distill`:

```{bash step-01-07, eval=FALSE, echo=TRUE}
collections:
  posts:
    disqus: shamindras-distill
```

We now see the following comments option at the bottom of every post:

<center>
```{r step-01-07-screenshot, fig.cap="Distill Disqus Comments Selection", echo=FALSE, out.extra="class=external", cache=TRUE}
knitr::include_graphics(path =
                            fs::path(IMAGES_PATH,
                                     "step_01_disqus_07.png"))
```
</center>

## Step 2: Setup Google Analytics tracking

I also wanted to setup basic user viewing tracking for my site. Fortunately
`distill` can be easily configured to work with [Google
Analytics](https://analytics.google.com/analytics/web){target="_blank"}. In
order to set this up I simply created an account for `Google Analytics` (using
my personal gmail account). I then logged in and selected the option to track
my website as follows:

<center>
```{r step-02-01-screenshot, fig.cap="Google Analytics Settings", echo=FALSE, out.extra="class=external", cache=TRUE}
knitr::include_graphics(path =
                            fs::path(IMAGES_PATH,
                                     "step_02_ga_01.png"))
```
</center>

I was then given a **Google Analytics token** and concluded this setup by
adding the token to the `_site.yml` file as follows:

```{bash step-02-02, eval=FALSE, echo=TRUE}
google_analytics: "UA-145015693-1"
```

## Step 3: Add Netlify badge

Since [Netlify](https://www.netlify.com){target="_blank"} is the web hosting
platform for my site (see setup details
[here](https://www.shamindras.com/posts/2019-07-11-setting-up-a-distill-blog-with-netlify/#step-8-deploy-your-website){target="_blank"}).
I just logged into my Netlify account and went to my **Site Details** and
obtained the following code from the **Status Badges** option.

<center>
```{r step-03-01-screenshot, fig.cap="Netlify Badge Code", echo=FALSE, out.extra="class=external", cache=TRUE}
knitr::include_graphics(path =
                            fs::path(IMAGES_PATH,
                                     "step_03_netlify_01.png"))
```
</center>

I copy-pasted the above code in at the top of my site `README.md` file. This
let's me quickly know whether my website is up and running as expected by
simply checking out my [github
page](https://github.com/shamindras/ss_personal_distill_blog){target="_blank"}.

## Step 4: Add blog post sharing options

It is easy to configure distill to allow for easy sharing of posts using a
variety of social media platforms. I allow for twitter, linkedin, pinterest,
and facebook. I did this by simply adding the following line in the `_site.yml`
file:

```{bash step-04-01, eval=FALSE, echo=TRUE}
collections:
  posts:
    share: [twitter, linkedin, pinterest, facebook]
```

Now the following sharing options appear at the bottom of every post:

<center>
```{r step-04-01-screenshot, fig.cap="Distill Sharing Options", echo=FALSE, out.extra="class=external", cache=TRUE}
knitr::include_graphics(path =
                            fs::path(IMAGES_PATH,
                                     "step_04_sharing_01.png"))
```
</center>

I also added in the following lines to `_site.yml` to ensure that [twitter
cards](https://rstudio.github.io/distill/metadata.html#twitter-card){target="_blank"}
are correctly generated when posts are shared on twitter:

```{bash step-04-02, eval=FALSE, echo=TRUE}
twitter:
  site: "@shamindraas"
  creator: "@shamindraas"
```

## Step 5: Add change tracking and logo

I frequently make edits to blogposts and intend to do so going forward.
Fortunately `distill` makes it easy **track changes/corrections** made to
blogposts. I did this by simply adding the site repo url to the `_site.yml` as
follows:

```{bash step-05-01, eval=FALSE, echo=TRUE}
repository_url: https://github.com/shamindras/ss_personal_distill_blog
```

Now the following appears at the bottom of all blogposts:

<center>
```{r step-05-01-screenshot, fig.cap="Getting Started with Disqus", echo=FALSE, out.extra="class=external", cache=TRUE}
knitr::include_graphics(path =
                            fs::path(IMAGES_PATH,
                                     "step_05_trackcorr_01.png"))
```
</center>

So users can easily track changes or file any concerns as issues, though
hopefully the `Disqus` comment feature makes this easier for everyone.

Finally it is easy to add an **RSS feed** for the blog by simply adding the
following to `_site.yml`:

```{bash step-05-02, eval=FALSE, echo=TRUE}
base_url: https://www.shamindras.com/
navbar:
  left:
    - icon: fa fa-rss
      href: index.xml
```


The critical elements are adding in the `base_url` fields and adding in `fa
fa-rss` which is derived from the `index.xml` file.

<aside> **Note: ** The `index.xml` file is generated automatically from the
`index.Rmd` </aside>

## Concluding Thoughts

As it can be seen it is quite easy to customize `distill` for commonly required
features. Really great work by the RStudio team in making such customizations
so user-friendly.

Could have added the following e.g. subscriptions (see site),
